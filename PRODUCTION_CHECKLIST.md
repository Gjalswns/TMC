# TMC 프로덕션 체크리스트

## ✅ 코드 품질 및 안정성

### 타입 안전성
- [x] 완전한 TypeScript 타입 정의 (`lib/database.types.ts`)
- [x] 데이터베이스 스키마와 일치하는 타입
- [x] 모든 컴포넌트에서 타입 안전성 보장
- [x] React.memo를 통한 성능 최적화

### 에러 처리
- [x] 포괄적인 try-catch 블록
- [x] 사용자 친화적인 에러 메시지
- [x] 에러 바운더리 구현 (`components/error-boundary.tsx`)
- [x] 환경 변수 검증 (`lib/env-validation.ts`)

### 입력 검증
- [x] 게임 코드 검증 (2자리 숫자, 10-99)
- [x] 선수/팀 이름 검증 (2-50자)
- [x] CSV 데이터 검증
- [x] 브래킷 타입 검증
- [x] 중앙화된 검증 로직 (`lib/validation.ts`)

### 메모리 관리
- [x] useEffect cleanup 함수
- [x] Supabase 채널 정리
- [x] useCallback을 통한 불필요한 리렌더링 방지
- [x] 메모리 누수 방지

## ✅ 사용자 경험

### 로딩 상태
- [x] 스피너 및 로딩 메시지
- [x] 비동기 작업 중 버튼 비활성화
- [x] 진행 상황 표시

### 에러 상태
- [x] 명확한 에러 메시지
- [x] 복구 가능한 에러에 대한 재시도 옵션
- [x] 폴백 UI

### 반응형 디자인
- [x] 모바일/태블릿/데스크톱 지원
- [x] 터치 친화적 인터페이스
- [x] 적절한 폰트 크기 및 간격

## ✅ 데이터베이스

### 스키마
- [x] 참가자 사전 등록 시스템
- [x] 브래킷 시스템 (Higher/Lower)
- [x] Score Steal 보호 메커니즘
- [x] 실시간 업데이트 지원

### 함수 및 뷰
- [x] 2자리 게임 코드 생성
- [x] 일괄 선수 등록
- [x] 팀 목록 조회
- [x] 점수 탈취 로직
- [x] 실시간 리더보드

### 보안
- [x] RLS (Row Level Security) 정책
- [x] 적절한 권한 설정
- [x] SQL 인젝션 방지

## ✅ 성능

### 최적화
- [x] React.memo 적용
- [x] useCallback/useMemo 사용
- [x] 불필요한 리렌더링 방지
- [x] 효율적인 데이터베이스 쿼리

### 실시간 기능
- [x] Supabase Realtime 구독
- [x] 자동 재연결
- [x] 채널 정리

## ✅ 설정 및 상수

### 중앙화된 설정
- [x] 게임 상수 (`lib/constants.ts`)
- [x] 검증 메시지
- [x] 라우트 정의
- [x] 환경 변수 검증

### 문서화
- [x] README.md 업데이트
- [x] SETUP_GUIDE.md
- [x] 코드 주석
- [x] 타입 문서화

## ✅ 테스트 데이터

### 사전 등록 데이터
- [x] Higher Bracket: 팀A (4명), 팀B (4명)
- [x] Lower Bracket: 팀C (4명), 팀D (4명)
- [x] CSV 템플릿 제공

## 🚀 배포 전 최종 확인

### 환경 변수
- [ ] NEXT_PUBLIC_SUPABASE_URL 설정
- [ ] NEXT_PUBLIC_SUPABASE_ANON_KEY 설정
- [ ] 프로덕션 환경에서 환경 변수 검증

### 데이터베이스
- [ ] 모든 마이그레이션 실행 완료
- [ ] RLS 정책 활성화
- [ ] 실시간 구독 활성화

### 기능 테스트
- [ ] 게임 생성 (브래킷 옵션 포함)
- [ ] 참가자 사전 등록 (CSV 업로드)
- [ ] 게임 참가 (2자리 코드)
- [ ] Year Game 진행
- [ ] Score Steal 진행
- [ ] 실시간 점수판 업데이트

### 성능 테스트
- [ ] 동시 접속자 테스트
- [ ] 메모리 사용량 모니터링
- [ ] 실시간 업데이트 지연 시간 확인

## 📞 문제 해결

### 일반적인 문제
1. **실시간 업데이트 안됨**: Supabase Realtime 설정 확인
2. **게임 참가 실패**: 게임 코드 형식 확인 (2자리 숫자)
3. **CSV 업로드 실패**: 템플릿 형식 확인
4. **점수 업데이트 오류**: 데이터베이스 함수 실행 권한 확인

### 로그 확인
- 브라우저 개발자 도구 콘솔
- Supabase 대시보드 로그
- Next.js 서버 로그

---

**모든 항목이 체크되면 프로덕션 배포 준비 완료! 🎉**